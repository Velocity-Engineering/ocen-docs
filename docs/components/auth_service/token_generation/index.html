<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-components/auth_service/token_generation">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">Token Generation &amp; Verification | OCEN</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://ispirt.github.io/img/ocen-splash-screen.png"><meta data-rh="true" name="twitter:image" content="https://ispirt.github.io/img/ocen-splash-screen.png"><meta data-rh="true" property="og:url" content="https://ispirt.github.io/docs/components/auth_service/token_generation"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Token Generation &amp; Verification | OCEN"><meta data-rh="true" name="description" content="OCEN&#x27;s Auth Service uses the OAuth 2.0 protocol for token generation. A /token endpoint is exposed by the Auth Service, where entities can exchange an authorization grant or refresh token to obtain access and/or ID tokens."><meta data-rh="true" property="og:description" content="OCEN&#x27;s Auth Service uses the OAuth 2.0 protocol for token generation. A /token endpoint is exposed by the Auth Service, where entities can exchange an authorization grant or refresh token to obtain access and/or ID tokens."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://ispirt.github.io/docs/components/auth_service/token_generation"><link data-rh="true" rel="alternate" href="https://ispirt.github.io/docs/components/auth_service/token_generation" hreflang="en"><link data-rh="true" rel="alternate" href="https://ispirt.github.io/docs/components/auth_service/token_generation" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="OCEN RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="OCEN Atom Feed"><link rel="stylesheet" href="/assets/css/styles.c3e8998b.css">
<link rel="preload" href="/assets/js/runtime~main.fe7f760d.js" as="script">
<link rel="preload" href="/assets/js/main.17ea88b0.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_RdvW" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="OCEN Logo" class="themedImage_nXNx themedImage--light_BXnZ"><img src="/img/logo.svg" alt="OCEN Logo" class="themedImage_nXNx themedImage--dark_k5WU"></div><b class="navbar__title text--truncate">OCEN</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/intro">Docs</a><a class="navbar__item navbar__link" href="/blog">Blog</a><a class="navbar__item navbar__link" href="/apis">API</a></div><div class="navbar__items navbar__items--right"><div class="toggle_kRod colorModeToggle_MFXz"><button class="clean-btn toggleButton_TdHX toggleButtonDisabled_Isle" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_v9pf"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_r2x2"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_AJin"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_YrMC docsWrapper_jNaU"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_wOPN" type="button"></button><div class="docPage_CHKt"><aside class="theme-doc-sidebar-container docSidebarContainer_Q8yt"><div class="sidebarViewport_I28k"><div class="sidebar_Eg18"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_cfgE"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/intro">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/ocen_4_0">OCEN 4.0</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/participant_roles">Participant Roles</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/loan_journey/architecture_overview">Loan Journey</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/docs/components/components_overview">Components</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/components/components_overview">Components Overview</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/docs/components/auth_service/intro">Auth Service</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/components/auth_service/intro">Auth Service Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/components/auth_service/design_principles">Design Principles</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/components/auth_service/architechture">Architecture Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/components/auth_service/Setup">Setup</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/components/auth_service/token_generation">Token Generation &amp; Verification</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/components/auth_service/JwsTokenGenerationAndVerification">JWS Examples</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/components/product_registry">Product Registry</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/components/participant_registry">Participant Registry</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/apis/api_design_principles">API Specs</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/participant_onboarding/participant_overview">Participant Onboarding</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/faqs">FAQs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/previous_pilots">Previous Pilots</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/terminology">Terminologies</a></li></ul></nav></div></div></aside><main class="docMainContainer_Zs9v"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_Opxm"><div class="docItemContainer_NWPt"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_BsA0" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_WwxC"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Components</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Auth Service</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Token Generation &amp; Verification</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_AUsH theme-doc-toc-mobile tocMobile_vzbH"><button type="button" class="clean-btn tocCollapsibleButton_bQp_">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Token Generation &amp; Verification</h1><p>OCEN&#x27;s Auth Service uses the OAuth 2.0 protocol for token generation. A <code>/token</code> endpoint is exposed by the Auth Service, where entities can exchange an authorization grant or refresh token to obtain access and/or ID tokens. </p><p>An access token is a credential representing the authorization of a specific application to access specific parts of a user&#x27;s data. It is used to authenticate requests to the APIs. An ID token, on the other hand, contains claims about the authentication of an end-user by an Authorization Server and potentially other requested claims. It conveys the authenticated identity of the client.</p><h2 class="anchor anchorWithStickyNavbar_d4vr" id="token-verification-and-jws-signature-validation">Token Verification and JWS Signature Validation<a href="#token-verification-and-jws-signature-validation" class="hash-link" aria-label="Direct link to Token Verification and JWS Signature Validation" title="Direct link to Token Verification and JWS Signature Validation">​</a></h2><p>Verification of tokens and JWS signatures is a critical aspect of maintaining the security and integrity of communications within the OCEN ecosystem. This process comprises two main steps:</p><h3 class="anchor anchorWithStickyNavbar_d4vr" id="token-verification">Token Verification:<a href="#token-verification" class="hash-link" aria-label="Direct link to Token Verification:" title="Direct link to Token Verification:">​</a></h3><p>The verification of an access token involves inspecting the token to confirm that it is still valid and has been issued by the OCEN Auth Service. This process can be completed by making a request to the token introspection endpoint of the Auth Service. If the token is still valid, the Auth Service will respond affirmatively, and the request can proceed. </p><h3 class="anchor anchorWithStickyNavbar_d4vr" id="jws-signature-validation">JWS Signature Validation:<a href="#jws-signature-validation" class="hash-link" aria-label="Direct link to JWS Signature Validation:" title="Direct link to JWS Signature Validation:">​</a></h3><p>Following token verification, the OCEN service receiving the request must also validate the JWS signature attached to the request. The JWS signature serves to ensure the integrity of the message and provide non-repudiation, ensuring that the sender cannot deny sending the message.</p><p>The process for validating the JWS signature involves the following steps:</p><ol><li>The receiving service extracts the JWS signature from the request&#x27;s <code>Authorization</code> header.</li><li>It then fetches the sender&#x27;s public key from the Auth Service using the <code>/certs</code> endpoint.</li><li>The service then uses this public key to validate the JWS signature against the payload of the request. </li><li>If the signature is valid, this confirms that the payload has not been tampered with during transit, and the request can proceed. If the signature is invalid, the request should be rejected, as this suggests the message may have been tampered with.</li></ol><p>Through this two-step process of token verification and JWS signature validation, the OCEN ecosystem can maintain high levels of security and trust between all participants. </p><h2 class="anchor anchorWithStickyNavbar_d4vr" id="postman-collection">Postman Collection<a href="#postman-collection" class="hash-link" aria-label="Direct link to Postman Collection" title="Direct link to Postman Collection">​</a></h2><p>A Postman collection for the OCEN Auth Service is available for testing and familiarization purposes. This collection is a set of pre-configured API requests to help you understand and test the Auth Service. You can access the collection at this link: <a href="https://documenter.getpostman.com/view/12016555/2s8YYMmLDE" target="_blank" rel="noopener noreferrer">OCEN Auth Service Postman Collection</a></p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/iSPIRT/OCEN-Documentation/tree/main/docs/components/auth_service/token_generation.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_bheU" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_lKw7"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/components/auth_service/Setup"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Setup</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/components/auth_service/JwsTokenGenerationAndVerification"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">JWS Examples</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_Yedo thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#token-verification-and-jws-signature-validation" class="table-of-contents__link toc-highlight">Token Verification and JWS Signature Validation</a><ul><li><a href="#token-verification" class="table-of-contents__link toc-highlight">Token Verification:</a></li><li><a href="#jws-signature-validation" class="table-of-contents__link toc-highlight">JWS Signature Validation:</a></li></ul></li><li><a href="#postman-collection" class="table-of-contents__link toc-highlight">Postman Collection</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/intro">Tutorial</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.indiastack.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">India Stack<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_hKpR"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/India_Stack" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_hKpR"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/iSPIRT/OCEN-Documentation" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_hKpR"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 iSpirt</div></div></div></footer></div>
<script src="/assets/js/runtime~main.fe7f760d.js"></script>
<script src="/assets/js/main.17ea88b0.js"></script>
</body>
</html>