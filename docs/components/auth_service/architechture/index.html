<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-components/auth_service/architechture">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">Architecture Overview | OCEN</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://velocity-engineering.github.io/ocen-docs/img/ocen-splash-screen.png"><meta data-rh="true" name="twitter:image" content="https://velocity-engineering.github.io/ocen-docs/img/ocen-splash-screen.png"><meta data-rh="true" property="og:url" content="https://velocity-engineering.github.io/ocen-docs/docs/components/auth_service/architechture"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Architecture Overview | OCEN"><meta data-rh="true" name="description" content="High-Level View:"><meta data-rh="true" property="og:description" content="High-Level View:"><link data-rh="true" rel="icon" href="/ocen-docs/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://velocity-engineering.github.io/ocen-docs/docs/components/auth_service/architechture"><link data-rh="true" rel="alternate" href="https://velocity-engineering.github.io/ocen-docs/docs/components/auth_service/architechture" hreflang="en"><link data-rh="true" rel="alternate" href="https://velocity-engineering.github.io/ocen-docs/docs/components/auth_service/architechture" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/ocen-docs/blog/rss.xml" title="OCEN RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/ocen-docs/blog/atom.xml" title="OCEN Atom Feed"><link rel="stylesheet" href="/ocen-docs/assets/css/styles.c3e8998b.css">
<link rel="preload" href="/ocen-docs/assets/js/runtime~main.93b08690.js" as="script">
<link rel="preload" href="/ocen-docs/assets/js/main.dbb1d886.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_RdvW" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/ocen-docs/"><div class="navbar__logo"><img src="/ocen-docs/img/logo.svg" alt="OCEN Logo" class="themedImage_nXNx themedImage--light_BXnZ"><img src="/ocen-docs/img/logo.svg" alt="OCEN Logo" class="themedImage_nXNx themedImage--dark_k5WU"></div><b class="navbar__title text--truncate">OCEN</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/ocen-docs/docs/intro">Docs</a><a class="navbar__item navbar__link" href="/ocen-docs/blog">Blog</a><a class="navbar__item navbar__link" href="/ocen-docs/apis">API</a></div><div class="navbar__items navbar__items--right"><div class="toggle_kRod colorModeToggle_MFXz"><button class="clean-btn toggleButton_TdHX toggleButtonDisabled_Isle" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_v9pf"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_r2x2"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_AJin"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_YrMC docsWrapper_jNaU"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_wOPN" type="button"></button><div class="docPage_CHKt"><aside class="theme-doc-sidebar-container docSidebarContainer_Q8yt"><div class="sidebarViewport_I28k"><div class="sidebar_Eg18"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_cfgE"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/ocen-docs/docs/intro">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/ocen-docs/docs/ocen_4_0">OCEN 4.0</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/ocen-docs/docs/participant_roles">Participant Roles</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/ocen-docs/docs/loan_journey/architecture_overview">Loan Journey</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/ocen-docs/docs/components/components_overview">Components</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ocen-docs/docs/components/components_overview">Components Overview</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/ocen-docs/docs/components/auth_service/intro">Auth Service</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/ocen-docs/docs/components/auth_service/intro">Auth Service Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/ocen-docs/docs/components/auth_service/design_principles">Design Principles</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/ocen-docs/docs/components/auth_service/architechture">Architecture Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/ocen-docs/docs/components/auth_service/Setup">Setup</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/ocen-docs/docs/components/auth_service/token_generation">Token Generation &amp; Verification</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/ocen-docs/docs/components/auth_service/JwsTokenGenerationAndVerification">JWS Examples</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ocen-docs/docs/components/product_registry">Product Registry</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ocen-docs/docs/components/participant_registry">Participant Registry</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/ocen-docs/docs/apis/api_design_principles">API Specs</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/ocen-docs/docs/participant_onboarding/participant_overview">Participant Onboarding</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/ocen-docs/docs/faqs">FAQs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/ocen-docs/docs/previous_pilots">Previous Pilots</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/ocen-docs/docs/terminology">Terminologies</a></li></ul></nav></div></div></aside><main class="docMainContainer_Zs9v"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_Opxm"><div class="docItemContainer_NWPt"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_BsA0" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/ocen-docs/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_WwxC"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Components</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Auth Service</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Architecture Overview</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_AUsH theme-doc-toc-mobile tocMobile_vzbH"><button type="button" class="clean-btn tocCollapsibleButton_bQp_">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Architecture Overview</h1><h3 class="anchor anchorWithStickyNavbar_d4vr" id="high-level-view">High-Level View:<a href="#high-level-view" class="hash-link" aria-label="Direct link to High-Level View:" title="Direct link to High-Level View:">​</a></h3><p>The OCEN Auth Service is designed to be an integral component within the larger OCEN ecosystem. It serves as an intermediary that verifies the identity of users and ensures that their actions can be reliably traced and cannot be denied. This plays a critical role in providing security within the OCEN system.</p><p>The OCEN Auth Service leverages Keycloak, a powerful open-source Identity and Access Management (IAM) platform that supports OAuth 2.0 and OpenID Connect protocols. It is responsible for managing users, their roles, and their permissions within the OCEN environment. It provides a way to secure RESTful services and provide a platform for login and sign-up.</p><h3 class="anchor anchorWithStickyNavbar_d4vr" id="components">Components:<a href="#components" class="hash-link" aria-label="Direct link to Components:" title="Direct link to Components:">​</a></h3><p>The architecture of OCEN Auth Service involves the following components:</p><ul><li><p><strong>Keycloak:</strong> Keycloak is at the heart of the OCEN Auth Service. It provides the features necessary for identity verification and non-repudiation. It holds user credentials and can use them to verify user identities.</p></li><li><p><strong>OAuth 2.0 and OpenID Connect Protocols:</strong> OAuth 2.0 is used for authorization, allowing users to verify their identity without sharing their credentials. OpenID Connect is an extension of OAuth 2.0 that provides authentication, allowing the system to verify the user&#x27;s identity based on the authentication performed by an authorization server.</p></li><li><p><strong>Endpoints:</strong> The Auth Service provides three key endpoints:</p><ol><li><p><code>/token</code>: This endpoint is used for obtaining access and/or ID tokens.</p></li><li><p><code>/certs</code>: This endpoint is used for obtaining the public keys or certificates used to sign Auth Service responses, including tokens.</p></li><li><p><code>/.well-known/openid-configuration</code>: This endpoint provides OpenID Connect metadata related to the authorization server.</p></li></ol></li><li><p><strong>Detached JWS Signatures:</strong> As mentioned previously the Auth Service uses Detached JWS signatures for integrity and non-repudiation. These signatures provide a way to ensure that the data has not been tampered with while in transit and that the sender cannot deny sending the data.</p></li></ul><h3 class="anchor anchorWithStickyNavbar_d4vr" id="communication-flow">Communication Flow:<a href="#communication-flow" class="hash-link" aria-label="Direct link to Communication Flow:" title="Direct link to Communication Flow:">​</a></h3><p>Here is a simplified communication flow in the OCEN Auth Service architecture:</p><ol><li><p>A client initiates an authentication or authorization request to the OCEN Auth Service.</p></li><li><p>The Auth Service uses Keycloak to verify the client&#x27;s identity and, if successful, issues an access and/or ID token to the client.</p></li><li><p>The client uses this token to authenticate and authorize itself when communicating with other services within the OCEN ecosystem.</p></li><li><p>When the client sends a request to another service, it includes the token in its request header. The receiving service then sends this token to the OCEN Auth Service.</p></li><li><p>The OCEN Auth Service verifies the token using the public keys obtained from the <code>/certs</code> endpoint. If the verification is successful, the receiving service processes the request. If not, it rejects the request.</p></li></ol><p>This architecture provides a robust and secure mechanism for user authentication and authorization in the OCEN ecosystem, ensuring the integrity and non-repudiation of actions performed within the system.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/iSPIRT/OCEN-Documentation/tree/main/docs/components/auth_service/architechture.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_bheU" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_lKw7"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/ocen-docs/docs/components/auth_service/design_principles"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Design Principles</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/ocen-docs/docs/components/auth_service/Setup"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Setup</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_Yedo thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#high-level-view" class="table-of-contents__link toc-highlight">High-Level View:</a></li><li><a href="#components" class="table-of-contents__link toc-highlight">Components:</a></li><li><a href="#communication-flow" class="table-of-contents__link toc-highlight">Communication Flow:</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/ocen-docs/docs/intro">Tutorial</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.indiastack.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">India Stack<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_hKpR"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/India_Stack" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_hKpR"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/ocen-docs/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/iSPIRT/OCEN-Documentation" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_hKpR"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 iSpirt</div></div></div></footer></div>
<script src="/ocen-docs/assets/js/runtime~main.93b08690.js"></script>
<script src="/ocen-docs/assets/js/main.dbb1d886.js"></script>
</body>
</html>