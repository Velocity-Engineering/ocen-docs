"use strict";(self.webpackChunkocen=self.webpackChunkocen||[]).push([[9345],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>m});var r=n(67294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var l=r.createContext({}),c=function(e){var t=r.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},p=function(e){var t=c(e.components);return r.createElement(l.Provider,{value:t},e.children)},d="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},h=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,l=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),d=c(n),h=a,m=d["".concat(l,".").concat(h)]||d[h]||u[h]||i;return n?r.createElement(m,o(o({ref:t},p),{},{components:n})):r.createElement(m,o({ref:t},p))}));function m(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=n.length,o=new Array(i);o[0]=h;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[d]="string"==typeof e?e:a,o[1]=s;for(var c=2;c<i;c++)o[c]=n[c];return r.createElement.apply(null,o)}return r.createElement.apply(null,n)}h.displayName="MDXCreateElement"},91081:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>o,default:()=>u,frontMatter:()=>i,metadata:()=>s,toc:()=>c});var r=n(87462),a=(n(67294),n(3905));const i={sidebar_position:1},o="Auth Service Overview",s={unversionedId:"components/auth_service/intro",id:"components/auth_service/intro",title:"Auth Service Overview",description:"The Auth service addresses two main concerns in the ecosystem:",source:"@site/docs/components/auth_service/intro.md",sourceDirName:"components/auth_service",slug:"/components/auth_service/intro",permalink:"/docs/components/auth_service/intro",draft:!1,editUrl:"https://github.com/iSPIRT/OCEN-Documentation/tree/main/docs/components/auth_service/intro.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"Components Overview",permalink:"/docs/components/components_overview"},next:{title:"Design Principles",permalink:"/docs/components/auth_service/design_principles"}},l={},c=[{value:"Overview",id:"overview",level:2},{value:"Digital Signature",id:"digital-signature",level:3},{value:"Detached JWS",id:"detached-jws",level:3}],p={toc:c},d="wrapper";function u(e){let{components:t,...i}=e;return(0,a.kt)(d,(0,r.Z)({},p,i,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"auth-service-overview"},"Auth Service Overview"),(0,a.kt)("p",null,"The Auth service addresses two main concerns in the ecosystem:"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"Identity of the entity accessing an endpoint"),(0,a.kt)("li",{parentName:"ol"},"Integrity and non-repudiation so entities cannot deny their actions after performing any operation")),(0,a.kt)("p",null,"The Auth service enables both concerns by providing API access keys for authentication of every request as well as signing every request/response with the security certificates."),(0,a.kt)("h2",{id:"overview"},"Overview"),(0,a.kt)("p",null,"OCEN Auth Service is a standards-compliant OAuth 2.0 authorization server, as well as, a OpenID Connect protocol implementation."),(0,a.kt)("p",null,"OpenID Connect extends OAuth 2.0. The OAuth 2.0 protocol provides API security via scoped access tokens."),(0,a.kt)("p",null,"Following sections provide detailed information about the endpoints that the Auth Service exposes."),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:null},"Endpoint Name"),(0,a.kt)("th",{parentName:"tr",align:null},"URI"),(0,a.kt)("th",{parentName:"tr",align:null},"Use"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"Token Endpoint"),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"/token")),(0,a.kt)("td",{parentName:"tr",align:null},"Obtain an access and/or ID token by presenting an authorization grant or refresh token.")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"Json Web Key Set Endpoint"),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"/certs")),(0,a.kt)("td",{parentName:"tr",align:null},"Get public keys / certificates used to sign Auth Service responses (including tokens).")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"OpenID Connect Well Known Configuration Endpoint"),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"/.well-known/openid-configuration")),(0,a.kt)("td",{parentName:"tr",align:null},"Get OpenID Connect metadata related to the authorization server.")))),(0,a.kt)("h3",{id:"digital-signature"},"Digital Signature"),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"Detached JWS",src:n(57743).Z,title:"Detached Json Web Signature",width:"2477",height:"1809"})),(0,a.kt)("h3",{id:"detached-jws"},"Detached JWS"),(0,a.kt)("p",null,"In the 'Detached Content' signature method, the generated JWS does not contain the content/payload part. Only the header and signature are returned. "),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"A detached JWS is simply one where the payload is removed and provided elsewhere (for OCEN purposes the payload is provided in the HTTP body).")),(0,a.kt)("p",null,"Other advantages of detached signatures are:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"request/responses that provide a malformed signature header can be rejected before ever reading the full HTTP body."),(0,a.kt)("li",{parentName:"ul"},"isolation between message signing and business logic, from implementation perspective (as the HTTP body needs no manipulation).")),(0,a.kt)("p",null,"As shown in following diagram, ",(0,a.kt)("strong",{parentName:"p"},"Detached JWS")," is supplied in the HTTP header ",(0,a.kt)("strong",{parentName:"p"},"Signature"),"."),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"Detached JWS in Header",src:n(71160).Z,title:"Detached JWS in HTTP header",width:"615",height:"454"})))}u.isMDXComponent=!0},57743:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n.p+"assets/images/detached_jws-fb83d937e88828565ec68e0054b8bf96.png"},71160:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n.p+"assets/images/detached_jws_http-0985cecb387cd2a2b446b44ae3f2c668.png"}}]);