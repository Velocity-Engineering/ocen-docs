"use strict";(self.webpackChunkocen=self.webpackChunkocen||[]).push([[3593],{3905:(e,t,r)=>{r.d(t,{Zo:()=>p,kt:()=>y});var n=r(67294);function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var l=n.createContext({}),c=function(e){var t=n.useContext(l),r=t;return e&&(r="function"==typeof e?e(t):o(o({},t),e)),r},p=function(e){var t=c(e.components);return n.createElement(l.Provider,{value:t},e.children)},u="mdxType",h={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},d=n.forwardRef((function(e,t){var r=e.components,i=e.mdxType,a=e.originalType,l=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),u=c(r),d=i,y=u["".concat(l,".").concat(d)]||u[d]||h[d]||a;return r?n.createElement(y,o(o({ref:t},p),{},{components:r})):n.createElement(y,o({ref:t},p))}));function y(e,t){var r=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var a=r.length,o=new Array(a);o[0]=d;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[u]="string"==typeof e?e:i,o[1]=s;for(var c=2;c<a;c++)o[c]=r[c];return n.createElement.apply(null,o)}return n.createElement.apply(null,r)}d.displayName="MDXCreateElement"},2607:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>l,contentTitle:()=>o,default:()=>h,frontMatter:()=>a,metadata:()=>s,toc:()=>c});var n=r(87462),i=(r(67294),r(3905));const a={sidebar_position:2},o="Security",s={unversionedId:"apis/security",id:"apis/security",title:"Security",description:"All participants must follow the security requirements while transmitting data over API calls. On a high level, these are the security aspects that need to be ensured.",source:"@site/docs/apis/security.md",sourceDirName:"apis",slug:"/apis/security",permalink:"/ocen-docs/docs/apis/security",draft:!1,editUrl:"https://github.com/iSPIRT/OCEN-Documentation/tree/main/docs/apis/security.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"API Design Principles",permalink:"/ocen-docs/docs/apis/api_design_principles"},next:{title:"APIs List",permalink:"/ocen-docs/docs/apis/api_list"}},l={},c=[{value:"What is two-way TLS/SSL",id:"what-is-two-way-tlsssl",level:2},{value:"Making secure API Calls",id:"making-secure-api-calls",level:2}],p={toc:c},u="wrapper";function h(e){let{components:t,...a}=e;return(0,i.kt)(u,(0,n.Z)({},p,a,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"security"},"Security"),(0,i.kt)("p",null,"All participants must follow the security requirements while transmitting data over API calls. On a high level, these are the security aspects that need to be ensured."),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"HTTPS - All API calls must be done securely over HTTPS"),(0,i.kt)("li",{parentName:"ol"},"Two-way TLS -  The system should use Two-way TLS to ensure that both parties can send the information securely"),(0,i.kt)("li",{parentName:"ol"},"Digital Signature - All communication between the participants should be digitally signed as per the JSON Web Signature Specification"),(0,i.kt)("li",{parentName:"ol"},"Post participant registration with the Participant Registry, the private / public keys for authentication will be available in the portal")),(0,i.kt)("h2",{id:"what-is-two-way-tlsssl"},"What is two-way TLS/SSL"),(0,i.kt)("p",null,'The credit system that we are building is an asynchronous system and we need to ensure that both systems follow Transport Layer Security (TLS) Protocol to communicate with each other. In Normal TLS, the client first checks the authenticity of the server. However, the server does not try to identify the client. Since, in our case, we need to verify the identities of both the systems involved, \u201cTwo Way SSL\u201d needs to be used. "Two-Way SSL" is usually called TLS/SSL with client certificate authentication because both parties authenticate each other.'),(0,i.kt)("h2",{id:"making-secure-api-calls"},"Making secure API Calls"),(0,i.kt)("p",null,"Every OCEN participant may be an API provider or an API client. In these roles:"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"API Clients need an access token to present to the API providers to authorize the calls."),(0,i.kt)("li",{parentName:"ol"},"API providers need access to the public key of token issuing OCEN Auth Service to validate the access token presented by an API client."),(0,i.kt)("li",{parentName:"ol"},"Upon identifying the API caller using the access token, API providers need access to the public key of the API caller available at the Gateway to verify the integrity of the digitally signed request sent by the API client."),(0,i.kt)("li",{parentName:"ol"},"Along similar lines to (3), API Clients, while receiving the response to their requests, also need access to the API Provider\u2019s public key to verify the digitally signed response from the API provider.")),(0,i.kt)("p",null,"Following is a sample interaction between a Lender and a Borrower Agent(BA), following the security guidelines mentioned here:"),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"Secure interaction sample between Borrower Agent(BA) &amp; Lender",src:r(46292).Z,title:"Secure Interaction Flow",width:"2595",height:"1331"})),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Borrower Agent(BA) obtains an access token from Auth Service",(0,i.kt)("ol",{parentName:"li"},(0,i.kt)("li",{parentName:"ol"},"Uses the access token to fetch endpoint location of the lender(s)."))),(0,i.kt)("li",{parentName:"ol"},"Borrower Agent(BA) call lender(s), attaches the access token to ",(0,i.kt)("inlineCode",{parentName:"li"},"Authorization")," header & attaches body ",(0,i.kt)("inlineCode",{parentName:"li"},"Signature")," header as well."),(0,i.kt)("li",{parentName:"ol"},"Lender, fetches two keys, to validate incoming requests: ",(0,i.kt)("ol",{parentName:"li"},(0,i.kt)("li",{parentName:"ol"},"Public key of the Auth service to verify the Authorization header"),(0,i.kt)("li",{parentName:"ol"},"Public key of the Borrower Agent(BA), registered on the Gateway, to verify the Signature header."))),(0,i.kt)("li",{parentName:"ol"},"Respond back to Borrower Agent(BA), with response body ",(0,i.kt)("inlineCode",{parentName:"li"},"Signature")," header attached."),(0,i.kt)("li",{parentName:"ol"},"Borrower Agent(BA), fetches public key of the lender from gateway & processes the request if valid.")))}h.isMDXComponent=!0},46292:(e,t,r)=>{r.d(t,{Z:()=>n});const n=r.p+"assets/images/secure-interaction-flow-0a5b2394796887ecf1b5faa038376069.png"}}]);