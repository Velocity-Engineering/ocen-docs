"use strict";(self.webpackChunkocen=self.webpackChunkocen||[]).push([[4143],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>f});var i=n(67294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var c=i.createContext({}),l=function(e){var t=i.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):a(a({},t),e)),n},u=function(e){var t=l(e.components);return i.createElement(c.Provider,{value:t},e.children)},h="mdxType",p={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},d=i.forwardRef((function(e,t){var n=e.components,o=e.mdxType,r=e.originalType,c=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),h=l(n),d=o,f=h["".concat(c,".").concat(d)]||h[d]||p[d]||r;return n?i.createElement(f,a(a({ref:t},u),{},{components:n})):i.createElement(f,a({ref:t},u))}));function f(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var r=n.length,a=new Array(r);a[0]=d;var s={};for(var c in t)hasOwnProperty.call(t,c)&&(s[c]=t[c]);s.originalType=e,s[h]="string"==typeof e?e:o,a[1]=s;for(var l=2;l<r;l++)a[l]=n[l];return i.createElement.apply(null,a)}return i.createElement.apply(null,n)}d.displayName="MDXCreateElement"},97781:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>a,default:()=>p,frontMatter:()=>r,metadata:()=>s,toc:()=>l});var i=n(87462),o=(n(67294),n(3905));const r={sidebar_position:5},a="Token Generation & Verification",s={unversionedId:"components/auth_service/token_generation",id:"components/auth_service/token_generation",title:"Token Generation & Verification",description:"OCEN's Auth Service uses the OAuth 2.0 protocol for token generation. A /token endpoint is exposed by the Auth Service, where entities can exchange an authorization grant or refresh token to obtain access and/or ID tokens.",source:"@site/docs/components/auth_service/token_generation.md",sourceDirName:"components/auth_service",slug:"/components/auth_service/token_generation",permalink:"/ocen-docs/docs/components/auth_service/token_generation",draft:!1,editUrl:"https://github.com/iSPIRT/OCEN-Documentation/tree/main/docs/components/auth_service/token_generation.md",tags:[],version:"current",sidebarPosition:5,frontMatter:{sidebar_position:5},sidebar:"tutorialSidebar",previous:{title:"Setup",permalink:"/ocen-docs/docs/components/auth_service/Setup"},next:{title:"JWS Examples",permalink:"/ocen-docs/docs/components/auth_service/JwsTokenGenerationAndVerification"}},c={},l=[{value:"Token Verification and JWS Signature Validation",id:"token-verification-and-jws-signature-validation",level:2},{value:"Token Verification:",id:"token-verification",level:3},{value:"JWS Signature Validation:",id:"jws-signature-validation",level:3},{value:"Postman Collection",id:"postman-collection",level:2}],u={toc:l},h="wrapper";function p(e){let{components:t,...n}=e;return(0,o.kt)(h,(0,i.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"token-generation--verification"},"Token Generation & Verification"),(0,o.kt)("p",null,"OCEN's Auth Service uses the OAuth 2.0 protocol for token generation. A ",(0,o.kt)("inlineCode",{parentName:"p"},"/token")," endpoint is exposed by the Auth Service, where entities can exchange an authorization grant or refresh token to obtain access and/or ID tokens. "),(0,o.kt)("p",null,"An access token is a credential representing the authorization of a specific application to access specific parts of a user's data. It is used to authenticate requests to the APIs. An ID token, on the other hand, contains claims about the authentication of an end-user by an Authorization Server and potentially other requested claims. It conveys the authenticated identity of the client."),(0,o.kt)("h2",{id:"token-verification-and-jws-signature-validation"},"Token Verification and JWS Signature Validation"),(0,o.kt)("p",null,"Verification of tokens and JWS signatures is a critical aspect of maintaining the security and integrity of communications within the OCEN ecosystem. This process comprises two main steps:"),(0,o.kt)("h3",{id:"token-verification"},"Token Verification:"),(0,o.kt)("p",null,"The verification of an access token involves inspecting the token to confirm that it is still valid and has been issued by the OCEN Auth Service. This process can be completed by making a request to the token introspection endpoint of the Auth Service. If the token is still valid, the Auth Service will respond affirmatively, and the request can proceed. "),(0,o.kt)("h3",{id:"jws-signature-validation"},"JWS Signature Validation:"),(0,o.kt)("p",null,"Following token verification, the OCEN service receiving the request must also validate the JWS signature attached to the request. The JWS signature serves to ensure the integrity of the message and provide non-repudiation, ensuring that the sender cannot deny sending the message."),(0,o.kt)("p",null,"The process for validating the JWS signature involves the following steps:"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"The receiving service extracts the JWS signature from the request's ",(0,o.kt)("inlineCode",{parentName:"li"},"Authorization")," header."),(0,o.kt)("li",{parentName:"ol"},"It then fetches the sender's public key from the Auth Service using the ",(0,o.kt)("inlineCode",{parentName:"li"},"/certs")," endpoint."),(0,o.kt)("li",{parentName:"ol"},"The service then uses this public key to validate the JWS signature against the payload of the request. "),(0,o.kt)("li",{parentName:"ol"},"If the signature is valid, this confirms that the payload has not been tampered with during transit, and the request can proceed. If the signature is invalid, the request should be rejected, as this suggests the message may have been tampered with.")),(0,o.kt)("p",null,"Through this two-step process of token verification and JWS signature validation, the OCEN ecosystem can maintain high levels of security and trust between all participants. "),(0,o.kt)("h2",{id:"postman-collection"},"Postman Collection"),(0,o.kt)("p",null,"A Postman collection for the OCEN Auth Service is available for testing and familiarization purposes. This collection is a set of pre-configured API requests to help you understand and test the Auth Service. You can access the collection at this link: ",(0,o.kt)("a",{parentName:"p",href:"https://documenter.getpostman.com/view/12016555/2s8YYMmLDE"},"OCEN Auth Service Postman Collection")))}p.isMDXComponent=!0}}]);